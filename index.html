<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
    />
    <title>Match Meter - 매치미터</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="stylesheet" href="./dist/output.css" />
  </head>
  <body
    class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen"
    role="document"
  >
    <canvas
      id="three-background"
      class="fixed inset-0 z-0 pointer-events-none"
      aria-hidden="true"
      role="presentation"
    ></canvas>

    <!-- Skip to main content link for screen readers -->
    <a
      href="#main-content"
      class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded focus:outline-none"
    >
      메인 콘텐츠로 건너뛰기
    </a>

    <!-- Mobile-first container with proper padding and safe area handling -->
    <div class="relative z-10 min-h-screen flex flex-col">
      <main
        id="main-content"
        class="flex-1 max-w-4xl mx-auto w-full bg-white/90 backdrop-blur-lg shadow-2xl border border-white/20 mobile-container"
        role="main"
      >
        <!-- Header section with mobile-optimized spacing -->
        <header class="text-center mobile-header" role="banner">
          <h1 class="mobile-title">📊 Match Meter 📊</h1>
          <p id="subtitle" class="mobile-subtitle">
            매치미터 - 이름으로 알아보는 궁합 지수
          </p>

          <!-- Language toggle with proper touch target -->
          <button
            id="languageToggle"
            onclick="toggleLanguage()"
            class="mobile-button mobile-button-secondary"
            aria-label="언어 변경 (현재: 한국어)"
            aria-describedby="language-description"
          >
            <span id="toggleText" aria-hidden="true">🌍 EN</span>
          </button>
          <div id="language-description" class="sr-only">
            현재 언어는 한국어입니다. 클릭하면 영어로 변경됩니다.
          </div>
        </header>

        <!-- Input section with mobile-first layout -->
        <section
          class="mobile-input-section"
          role="form"
          aria-labelledby="form-title"
        >
          <h2 id="form-title" class="sr-only">이름 입력 양식</h2>
          <div class="mobile-input-group">
            <label id="label1" for="name1" class="mobile-label"
              >📝 첫 번째 이름</label
            >
            <input
              type="text"
              id="name1"
              name="name1"
              placeholder="예: 김민수"
              class="mobile-input"
              autocomplete="given-name"
              autocapitalize="words"
              autocorrect="off"
              spellcheck="false"
              inputmode="text"
              aria-describedby="name1-hint name1-error"
              aria-required="true"
              aria-invalid="false"
            />
            <div id="name1-hint" class="sr-only">
              첫 번째 사람의 이름을 입력하세요
            </div>
            <div
              id="name1-error"
              class="sr-only"
              role="alert"
              aria-live="polite"
            ></div>
          </div>
          <div class="mobile-input-group">
            <label id="label2" for="name2" class="mobile-label"
              >📝 두 번째 이름</label
            >
            <input
              type="text"
              id="name2"
              name="name2"
              placeholder="예: 박지민"
              class="mobile-input"
              autocomplete="given-name"
              autocapitalize="words"
              autocorrect="off"
              spellcheck="false"
              inputmode="text"
              aria-describedby="name2-hint name2-error"
              aria-required="true"
              aria-invalid="false"
            />
            <div id="name2-hint" class="sr-only">
              두 번째 사람의 이름을 입력하세요
            </div>
            <div
              id="name2-error"
              class="sr-only"
              role="alert"
              aria-live="polite"
            ></div>
          </div>
        </section>

        <!-- Calculate button with mobile optimization -->
        <button
          id="calculateButton"
          onclick="calculateMatch()"
          class="mobile-button mobile-button-primary"
          aria-describedby="calculate-description"
          aria-label="두 이름의 궁합 점수 계산하기"
        >
          <span aria-hidden="true">📊</span> Match 측정하기
        </button>
        <div id="calculate-description" class="sr-only">
          입력한 두 이름의 궁합 점수를 계산합니다
        </div>

        <!-- Results section with mobile-optimized layout -->
        <section
          class="mobile-results-section"
          role="region"
          aria-labelledby="results-title"
          aria-live="polite"
        >
          <h2 id="results-title" class="sr-only">궁합 측정 결과</h2>
          <div id="explanation" class="mobile-explanation" role="status"></div>

          <!-- Score bar with mobile-friendly design -->
          <div
            class="mobile-score-container"
            role="group"
            aria-labelledby="score-title"
          >
            <div id="scoreLabel" class="mobile-score-label">
              <span id="score-title" aria-hidden="true">📊</span> 매치 점수
            </div>
            <div
              class="mobile-progress-bar"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="100"
              aria-valuenow="0"
              aria-labelledby="scoreLabel"
            >
              <div id="bar" class="mobile-progress-fill"></div>
            </div>
            <div class="mobile-progress-labels" aria-hidden="true">
              <span>0%</span>
              <span>50%</span>
              <span>100%</span>
            </div>
          </div>

          <div
            id="result"
            class="mobile-result"
            role="status"
            aria-live="polite"
          ></div>

          <div id="strokeInfo" class="mobile-stroke-info hidden" role="note">
            <span aria-hidden="true">📝</span>
            <span id="strokeInfoText"
              >English letters calculated by uppercase strokes</span
            >
          </div>
        </section>
      </main>
    </div>

    <script src="script.js"></script>
  </body>
</html>
